<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Классическая игра Змейка, написанная на чистом JavaScript."><link rel="shortcut icon" href="./resources/img/Snake.ico" type="image/x-icon"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Snake JS</title><style>@-webkit-keyframes background_rotation{0%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(1080deg);transform:rotate(1080deg)}}@keyframes background_rotation{0%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(1080deg);transform:rotate(1080deg)}}@-webkit-keyframes foreground_rotation{0%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}20%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}40%{-webkit-transform:rotate(45deg);transform:rotate(45deg)}60%{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}80%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes foreground_rotation{0%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}20%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}40%{-webkit-transform:rotate(45deg);transform:rotate(45deg)}60%{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}80%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#footer{width:90%;margin:auto;text-align:center;font-size:12pt}#footer,.forscreen{display:none}@media screen and (max-width:1320px){#footer{display:block}}#sound_switcher_form .sound_items,header{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}header{padding:1% 0;display:-webkit-box;display:-ms-flexbox;display:flex}header .header_div.left,header .header_div.right{-webkit-box-flex:1;-ms-flex:1;flex:1}header .header_div.center{-webkit-box-flex:2;-ms-flex:2;flex:2}#logo{text-shadow:1px 1px 1px #000;position:relative;font-size:26pt;height:60px;width:300px;-webkit-box-shadow:2px 2px;box-shadow:2px 2px;border-radius:19px}#counter_container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column}#counter_container #counter{font-size:26pt;margin:2%}#counter_container #prev_counter{font-size:18pt;margin:0}.by{cursor:pointer;font-size:18pt;text-decoration:none;-webkit-transition:2s;-o-transition:2s;transition:2s;color:inherit}.by:hover{font-size:19pt;font-style:italic}@media screen and (max-width:1200px){#logo{height:50px;width:220px}#counter_container #counter,#logo{font-size:22pt}#counter_container #prev_counter,.by{font-size:14pt}.by:hover{font-size:15pt}}@media screen and (max-width:540px){#logo{height:35px;width:120px}#counter_container #counter{font-size:16pt!important}#counter_container #prev_counter,#logo,.by{font-size:10pt!important}.by:hover{font-size:11pt!important}}@media screen and (max-width:350px){#logo{height:20px;width:70px}#counter_container #counter{font-size:10pt}#counter_container #prev_counter,#logo{font-size:7pt}.by{font-size:5pt}.by:hover{font-size:5.5pt}}@media screen and (max-height:740px){header{padding:0;height:88px}}@media screen and (max-height:451px){header{height:60px}#logo{height:35px;width:120px}#counter_container #counter{font-size:16pt}#counter_container #prev_counter,#logo,.by{font-size:10pt}.by:hover{font-size:11pt}}@media screen and (max-height:350px){#logo{font-size:12pt;height:30px;width:120px}#counter_container #counter{font-size:10pt}#counter_container #prev_counter,.by{font-size:7pt}.by:hover{font-size:8pt}}canvas:hover{cursor:none}@media screen and (max-width:1060px){#game_container,.death_container.active,.pause_container.active,canvas{width:640px;height:502.8572506123px}.img_container img,.img_container::before{width:180px;height:180px}.phrase{text-align:center}.pause_desc,.phrase{font-size:14pt}}@media screen and (max-width:860px){#game_container,.death_container.active,.pause_container.active,canvas{width:540px;height:424.2858052041px}.img_container img,.img_container::before{width:150px;height:150px}.pause_desc,.phrase{text-align:center;font-size:10pt}}@media screen and (max-width:570px){#game_container,.death_container.active,.pause_container.active,canvas{width:340px;height:267.1429143878px}.img_container img,.img_container::before{width:120px;height:120px}.br{display:none}}@media screen and (max-width:360px){#game_container,.death_container.active,.pause_container.active,canvas{width:290px;height:227.8571916837px}.img_container img,.img_container::before{width:100px;height:100px}.pause_desc{text-align:center;font-size:9pt}}@media screen and (max-height:740px){.br{display:none}}@media screen and (max-height:413px){#game_container,.death_container.active,.pause_container.active,canvas{width:390px;height:317.1429143878px}.img_container img,.img_container::before{width:120px;height:120px}}@media screen and (max-height:385px){#game_container,.death_container.active,.pause_container.active,canvas{width:340px;height:267.1429143878px}}@media screen and (max-height:320px){#game_container,.death_container.active,.pause_container.active,canvas{width:290px;height:227.8571916837px}.img_container img,.img_container::before{width:100px;height:100px}}#sound_switcher_form .sound_items{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}@media screen and (max-width:1180px){.prop{width:90%;font-size:14pt}.prop span.plus{min-width:30px;min-height:30px}.wrapper form{gap:2%}}@media screen and (max-width:740px){#form_containers,.prop{-webkit-box-align:center;-ms-flex-align:center;align-items:center}#form_containers{width:60%;margin:0 auto;min-width:185px}.prop{font-size:10pt}.prop span{height:50px}.wrapper.active{padding:0}.wrapper form{padding:2%;gap:0}}@media screen and (max-width:460px){#form_containers{width:90%}}@media screen and (max-height:610px){.prop{width:80%}}#keys div{width:96%;font-size:18pt;text-align:left}@media screen and (max-width:1320px){#keys{display:none}}#form_containers{margin-top:3%;height:70%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}#hud_switcher_form,#map_switcher_form{display:block!important;overflow:auto!important}.form_text{text-align:center}.prop,.wrap_span{display:-webkit-box;display:-ms-flexbox;display:flex}.prop{width:80%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0 auto;font-size:18pt;height:auto}.wrap_span{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:66px;padding:2% 4%;width:100%;border-radius:19px}.plus{min-width:35px;min-height:35px;border-radius:9px;color:inherit;cursor:pointer}#sound_switcher_form,.wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.wrapper,.wrapper form{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.wrapper{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-flow:wrap;flex-flow:wrap;height:0;padding:0;border-radius:19px;margin:3% auto;-webkit-transition:.8s;-o-transition:.8s;transition:.8s;overflow:hidden}.wrapper form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}.wrapper.active{padding:2% 4%;height:200px}#sound_switcher_form{display:block;overflow:auto}@media screen and (max-width:1180px){.prop{width:90%;font-size:14pt}.prop span.plus{min-width:30px;min-height:30px}.wrapper form{gap:2%}}@media screen and (max-width:740px){#form_containers,.prop{-webkit-box-align:center;-ms-flex-align:center;align-items:center}#form_containers{width:60%;margin:0 auto;min-width:185px}.prop{font-size:10pt}.prop span{height:50px}.wrapper.active{padding:0}.wrapper form{padding:2%;gap:0}}@media screen and (max-width:460px){#form_containers{width:90%}}@media screen and (max-height:610px){.prop{width:80%}}#keys{text-align:center}@media screen and (max-width:1320px){#keys{display:none}}#game_container,canvas{margin:auto;width:840px;height:660px}#game_container{z-index:2;-webkit-box-shadow:0 0 30px 0 #000;box-shadow:0 0 30px 0 #000}canvas{background:green;background-size:cover!important}.death_container,.pause_container{display:none}.death_container.active,.pause_container.active{position:absolute;color:#fff;width:840px;height:660px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:#000;opacity:.7;cursor:pointer;font-size:26pt}.death_container.active p,.pause_container.active p{margin:0}.img_container img,.img_container::before{-webkit-animation:foreground_rotation 20s infinite ease-in-out;animation:foreground_rotation 20s infinite ease-in-out;width:320px;height:320px}.img_container::before{content:" ";position:absolute;background:#fff;border-radius:33%;-webkit-animation:background_rotation 35s infinite ease-in-out;animation:background_rotation 35s infinite ease-in-out}.phrase{font-size:12pt}.pause_desc{font-size:18pt}@media screen and (max-width:1060px){#game_container,.death_container.active,.pause_container.active,canvas{width:640px;height:502.8572506123px}.img_container img,.img_container::before{width:180px;height:180px}.phrase{text-align:center}.pause_desc,.phrase{font-size:14pt}}@media screen and (max-width:860px){#game_container,.death_container.active,.pause_container.active,canvas{width:540px;height:424.2858052041px}.img_container img,.img_container::before{width:150px;height:150px}.pause_desc,.phrase{text-align:center;font-size:10pt}}@media screen and (max-width:570px){#game_container,.death_container.active,.pause_container.active,canvas{width:340px;height:267.1429143878px}.img_container img,.img_container::before{width:120px;height:120px}.br{display:none}}@media screen and (max-width:360px){#game_container,.death_container.active,.pause_container.active,canvas{width:290px;height:227.8571916837px}.img_container img,.img_container::before{width:100px;height:100px}.pause_desc{text-align:center;font-size:9pt}}@media screen and (max-height:740px){.br{display:none}}@media screen and (max-height:413px){#game_container,.death_container.active,.pause_container.active,canvas{width:390px;height:317.1429143878px}.img_container img,.img_container::before{width:120px;height:120px}}@media screen and (max-height:385px){#game_container,.death_container.active,.pause_container.active,canvas{width:340px;height:267.1429143878px}}@media screen and (max-height:320px){#game_container,.death_container.active,.pause_container.active,canvas{width:290px;height:227.8571916837px}.img_container img,.img_container::before{width:100px;height:100px}}.flex,.sound::after{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;gap:2%}.flex .flex_center{-webkit-box-flex:2;-ms-flex:2;flex:2}.flex .flex_left,.flex .flex_right{-webkit-box-flex:1;-ms-flex:1;flex:1}@media screen and (max-width:1320px){.flex_center{margin-right:1%;margin-bottom:2%}}@media screen and (max-width:490px){.flex_center{margin-right:0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.flex_left{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}}.sound::after{-webkit-box-align:center;-ms-flex-align:center;align-items:center}#counter_container,#logo,.death_container.active,.death_container.active p,.pause_container.active,.pause_container.active p,.plus,header .header_div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.sound{max-width:60px;height:42px;visibility:hidden;width:100%;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.sound::after{width:30px;height:30px;top:calc(50% - 15px + 1px)}.sound::before{height:32px;max-height:42px;top:calc(50% - 16px);max-width:60px;border:1px solid #7b6b6b}.sound.on::after{left:calc(100% - 30px + 1px);content:"ON"}.sound::after,.sound::before{display:-webkit-box;display:-ms-flexbox;display:flex;visibility:visible;position:absolute}.sound::after{content:"OFF";background:#fff;border-radius:50%;left:1px;-webkit-transition:.5s;-o-transition:.5s;transition:.5s;text-align:center}.sound::before{content:"";width:100%;background:#7b6b6b;left:0;border-radius:50px;-webkit-box-sizing:content-box;box-sizing:content-box}.sound.disabled{cursor:default}.sound.disabled::after,.sound.disabled::before{background:#ecdddd}@media screen and (max-width:1180px){.sound{font-size:8pt;max-width:40px;height:32px}.sound::after{width:20px;height:20px;top:calc(50% - 10px + 1px)}.sound::before{height:22px;max-height:32px;top:calc(50% - 11px);max-width:40px;border:1px solid #7b6b6b}.sound.on::after{left:calc(100% - 20px + 1px)}}::-webkit-scrollbar{width:15px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:#d6dee1;border-radius:1px;border:6px solid transparent;background-clip:content-box}::-webkit-scrollbar-thumb:hover{background-color:#a8bbbf}.tmbs{-webkit-appearance:none;margin:6% auto;width:90%;border-radius:19px}.tmbs::-webkit-slider-runnable-track{height:12px;cursor:pointer;border-radius:19px}.tmbs::-webkit-slider-thumb{-webkit-box-shadow:1px 1px 1px #000;box-shadow:1px 1px 1px #000;border:1px solid #000;height:35px;width:15px;border-radius:40%/20%;background:#dbdada;cursor:pointer;-webkit-appearance:none;margin-top:-14px}.tmbs.red::-webkit-slider-runnable-track{background:-webkit-gradient(linear,left top,right top,from(#000),to(red));background:linear-gradient(90deg,#000 ,red)}.tmbs.green::-webkit-slider-runnable-track{background:-webkit-gradient(linear,left top,right top,from(#000),to(#0f0));background:linear-gradient(90deg,#000 ,#0f0)}.tmbs.blue::-webkit-slider-runnable-track{background:-webkit-gradient(linear,left top,right top,from(#000),to(#00f));background:linear-gradient(90deg,#000 ,#00f)}.tmbs.white::-webkit-slider-runnable-track{background:-webkit-gradient(linear,left top,right top,from(#000),to(#fff));background:linear-gradient(90deg,#000 ,#fff)}.body_default,.plus_default{color:#ead8d8;background:#3d3434}.logo_default{color:#0c0}.logo_default,.span_default,.wrapper_default{background:#7a7171}.mark_default{background-color:#9acd32}.on_default::before{background:#118c4e}.body_green,.plus_green{color:#ead8d8;background:#1d721d}.logo_green{color:#06ff06}.logo_green,.span_green,.wrapper_green{background:#1e9c1e}.mark_green{background-color:#ff4500}.on_green::before{background:red}.body_white,.plus_white{color:#000;background:#fff}.logo_white{color:#000;background:#d3d3d3}.span_white,.wrapper_white{background:#c9c9c9}.mark_white{background-color:#ff8c00}.on_white::before{background:#ff8c00}.body_black,.logo_black,.plus_black{color:#fff;background:#000}.span_black,.wrapper_black{background:#252525}.mark_black{background-color:orange}.on_black::before{background:#8b0000}.body_dark,.plus_dark{color:#fff;background:#1d1c1c}.logo_dark{color:#fff}.logo_dark,.span_dark,.wrapper_dark{background:#524f4f}.mark_dark{background-color:#ff1493}.on_dark::before{background:#ff1493}.body_light,.plus_light{color:#181616;background:#d6caca}.logo_light{color:#252323}.logo_light,.span_light,.wrapper_light{background:#948b8b}.mark_light{background-color:#adff2f}.on_light::before{background:#9acd32}.body_punk,.on_punk::after,.plus_punk{color:#0ff;background:#ff1493}.logo_punk{color:#0ff}.logo_punk,.span_punk,.wrapper_punk{background:#00008b}.mark_punk{background-color:#9acd32}.on_punk::before{background:violet}.body_punk-reverse,.on_punk-reverse::after,.plus_punk-reverse{color:#f5f5f5;background:#00008b}.logo_punk-reverse{color:#f5f5f5;background:#ff1493}.span_punk-reverse,.wrapper_punk-reverse{background:#ff1493}.mark_punk-reverse{background-color:#adff2f}.on_punk-reverse::before{background:violet}@font-face{font-family:"Roboto";src:local("Roboto"),url(./resources/fonts/Roboto-Regular.woff2) format("woff2"),url(./resources/fonts/Roboto-Regular.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}body{font-family:"Roboto","Arial",sans-serif;margin:0;padding:0;height:100%;max-width:1920px;max-height:1080px;cursor:default}</style></head><body class="body body_default"><header><div class="header_div left"><p id="logo" class="logo logo_default">Snake Game JS</p></div><div class="header_div center"><div id="counter_container"><p id="counter">Счёт: 0</p><p id="prev_counter"></p></div></div><div class="header_div right"><a class="by" href="https://github.com/EugeneAlWin">@by EugeneAlWin</a></div></header><main class="flex"><div class="flex_left"><div id="form_containers"><div class="prop"><span class="wrap_span span_default">Выбрать цвет тела <mark class="plus plus_default">+</mark></span><div class="wrapper wrapper_default"><form name="bodyColorSwitcher"><div class="form_text">Тяните ползунки:</div><input type="range" min="0" max="255" name="bodyColorTumb" class="tmbs red" value="240"> <input type="range" min="0" max="255" name="bodyColorTumb" class="tmbs green" value="0"> <input type="range" min="0" max="255" name="bodyColorTumb" class="tmbs blue" value="0"></form></div></div><div class="prop"><span class="wrap_span span_default">Выбрать цвет головы <mark class="plus plus_default">+</mark></span><div class="wrapper wrapper_default"><form name="headColorSwitcher"><div class="form_text">Тяните ползунки:</div><input type="range" min="0" max="255" name="headColorTumb" class="tmbs red" value="255"> <input type="range" min="0" max="255" name="headColorTumb" class="tmbs green" value="255"> <input type="range" min="0" max="255" name="headColorTumb" class="tmbs blue" value="0"></form></div></div><div class="prop"><span class="wrap_span span_default">Выбрать карту <mark class="plus plus_default">+</mark></span><div class="wrapper wrapper_default"><form id="map_switcher_form" name="mapSwitcher"><div><input type="radio" value="#008000" name="map" checked="checked"> <label for="map">Трава</label></div><div><input type="radio" value="HDgrass.webp" name="map"> <label for="map">Трава HD</label></div><div><input type="radio" value="#f4a460" name="map"> <label for="map">Песок</label><div><input type="radio" value="HDsand.webp" name="map"> <label for="map">Песок HD</label></div></div><div><input type="radio" value="#00bfff" name="map"> <label for="map">Вода</label></div><div><input type="radio" value="HDwater.webp" name="map"> <label for="map">Вода HD</label></div><div><input type="radio" value="#cf1020" name="map"> <label for="map">Лава</label></div><div><input type="radio" value="HDlava.webp" name="map"> <label for="map">Лава HD</label></div><div><input type="radio" value="#4b0082" name="map"> <label for="map">Космос</label></div><div><input type="radio" value="HDspace.webp" name="map"> <label for="map">Космос HD</label></div><div><input type="radio" value="#9c0" name="map"> <label for="map">Лес</label></div><div><input type="radio" value="HDforest.webp" name="map"> <label for="map">Лес HD</label></div></form></div></div><div class="prop"><span class="wrap_span span_default">Выбрать цвет HUD <mark class="plus plus_default">+</mark></span><div class="wrapper wrapper_default"><form id="hud_switcher_form" name="HUDSwitcher"><div><input type="radio" value="default" name="hud" checked="checked"> <label for="hud">Стандартная</label></div><div><input type="radio" value="light" name="hud"> <label for="hud">Светлая тема</label></div><div><input type="radio" value="dark" name="hud"> <label for="hud">Темная тема</label></div><div><input type="radio" value="white" name="hud"> <label for="hud">Солнечный свет</label></div><div><input type="radio" value="black" name="hud"> <label for="hud">1619—1865</label></div><div><input type="radio" value="green" name="hud"> <label for="hud">Кислотная фабрика</label></div><div><input type="radio" value="punk" name="hud"> <label for="hud">Дорогой киберпанк</label></div><div><input type="radio" value="punk-reverse" name="hud"> <label for="hud">Дешевый киберпанк</label></div></form></div></div><div class="prop"><span class="wrap_span span_default">Настроить скорость <mark class="plus plus_default">+</mark></span><div class="wrapper wrapper_default"><form name="speedSwitcher"><div class="form_text">Тяните ползунок:</div><input type="range" min="100" max="300" name="speedTumb" class="tmbs white" value="200"></form></div></div><div class="prop"><span class="wrap_span span_default">Настроить звук <mark class="plus plus_default">+</mark></span><div class="wrapper wrapper_default"><form name="soundSwitcher" id="sound_switcher_form"><div class="sound_items"><div>Все звуки &nbsp;</div><input id="sound_full" class="sound on on_default" type="checkbox" name="sound" value="full" checked="checked"></div><div class="sound_items"><div>Действие &nbsp;</div><input id="event" class="sound on on_default" type="checkbox" name="sound" value="Event.mp3" checked="checked"></div><div class="sound_items"><div>Рост змейки &nbsp;</div><input id="pickup" class="sound on on_default" type="checkbox" name="sound" value="PickUp.mp3" checked="checked"></div><div class="sound_items"><div>Конец игры &nbsp;</div><input id="gameover" class="sound on on_default" type="checkbox" name="sound" value="GameOver.mp3" checked="checked"></div></form></div></div></div></div><div class="flex_center"><div id="game_container"><div id="pause_container" class="pause_container"><div class="img_container"><img src="./resources/img/Pause.svg" alt="Pause"></div><br class="br"><p class="pause_desc">Игра на паузе. Нажмите на экран или &#171;Пробел&#187;, чтобы продолжить.</p><br class="br"><p class="phrase"></p></div><div id="death_container" class="death_container active"><div class="img_container"><img src="./resources/img/Play.svg" alt="Play"></div><br class="br"><p id="last_count" class="pause_desc">Нажмите на экран или &#171;Ввод&#187;, чтобы начать.</p><br class="br"><p class="phrase"></p></div><canvas id="canvas" width="840" height="660"></canvas><br><br><br></div></div><div id="keys" class="flex_right forkeyboard"><div><p>Кушать круги!</p><mark class="mark mark_default"><q>Пробел</q></mark> - пауза.<br><mark class="mark mark_default"><q>Ввод</q></mark> - старт.<br><mark class="mark mark_default"><q>w a s d</q> </mark>или <mark class="mark mark_default"><q>&uarr; &larr; &darr; &rarr;</q></mark> - управление.<br><mark class="mark mark_default"><q>H</q></mark> - вкл./выкл. звук<br><mark class="mark mark_default"><q>J</q></mark> - вкл./выкл. звук кнопок<br><mark class="mark mark_default"><q>K</q></mark> - вкл./выкл. звук роста<br><mark class="mark mark_default"><q>L</q></mark> - вкл./выкл. звук проигрыша<br><mark class="mark mark_default"><q>1/2/3/4/5</q></mark> - свернуть/развернуть форму<br></div></div></main><footer id="footer"><div class="forkeyboard"><p>Кушать круги!</p><mark class="mark mark_default"><q>Пробел</q></mark> - пауза. <mark class="mark mark_default"><q>Ввод</q></mark> - старт. <mark class="mark mark_default"><q>w a s d</q> </mark>или <mark class="mark mark_default"><q>&uarr; &larr; &darr; &rarr;</q></mark> - управление. <mark class="mark mark_default"><q>H</q></mark> - вкл./выкл. звук. <mark class="mark mark_default"><q>J</q></mark> - вкл./выкл. звук кнопок. <mark class="mark mark_default"><q>K</q></mark> - вкл./выкл. звук роста. <mark class="mark mark_default"><q>L</q></mark> - вкл./выкл. звук проигрыша. <mark class="mark mark_default"><q>1/2/3/4/5</q></mark> - свернуть/развернуть форму.</div><div class="forscreen"><p>Кушать круги!</p><mark class="mark mark_default"><q>Свайп влево/вправо/вверх/вниз</q></mark> - управление. <mark class="mark mark_default"><q>Нажатие</q></mark> - старт. <mark class="mark mark_default"><q>Двойное нажатие</q> - пауза</mark></div></footer><script>(()=>{"use strict";const e=document.getElementById("canvas"),t=document.getElementById("pause_container"),s=document.getElementById("death_container"),n=document.getElementById("pause_container").classList,i=document.getElementById("death_container").classList,o=document.getElementById("counter"),a=document.getElementById("last_count"),r=document.getElementById("prev_counter"),c=[...document.getElementsByClassName("plus")],l=[...document.getElementsByClassName("wrapper")],h=document.getElementsByClassName("forkeyboard"),d=document.getElementsByClassName("forscreen")[0],u=document.querySelectorAll(".phrase");function p(){if(this.InitOnLoad(),this.InitDeathScreen(),this.InitColorChanger(),this.InitSpeedChanger(),this.InitMapChanger(),this.InitSoundSwitcher(),this.InitFormsWrapper(),this.InitHUDChanger(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)){this.InitTouchListener();for(let e=0;e<h.length;e++)h[e].style="display: none";d.style="display: block",window.innerWidth<window.innerHeight&&alert("Возможно, удобнее будет повернуть устройство")}else this.InitKeyboardListener()}const m=document.forms.bodyColorSwitcher.bodyColorTumb,f=document.forms.headColorSwitcher.headColorTumb,v=document.forms.speedSwitcher.speedTumb,g=[...document.forms.soundSwitcher],y=[...document.forms.mapSwitcher.map],I=[...document.forms.HUDSwitcher.hud],S=g.filter((e=>"sound_full"===e.id))[0],w=new Audio(`./resources/sounds/${g.filter((e=>"event"===e.id))[0].value}`),x=new Audio(`./resources/sounds/${g.filter((e=>"pickup"===e.id))[0].value}`),k=new Audio(`./resources/sounds/${g.filter((e=>"gameover"===e.id))[0].value}`),E=e=>{S.checked||"full"===e.value||(e.classList.add("disabled"),e.disabled=!0),S.checked&&"full"!==e.value&&(e.classList.remove("disabled"),e.disabled=!1)},D=e.height,b=e.width,C=Math.round(b/28),L=+v.max+ +v.min,X=[...document.getElementsByClassName("body"),...document.getElementsByClassName("logo"),...document.getElementsByClassName("wrap_span"),...document.getElementsByClassName("wrapper"),...document.getElementsByClassName("plus"),...document.getElementsByClassName("mark"),...document.getElementsByClassName("on")];function Y(e,t){X.forEach((s=>{s.className=s.className.replace(e,t)}))}function $(){document.addEventListener("DOMContentLoaded",(()=>{r.innerText=`Лучший счёт: ${localStorage.getItem("prev")||0}`;const t=JSON.parse(localStorage.getItem("TumbsColors")),s=JSON.parse(localStorage.getItem("headTumbsColors")),n=e.style.background=localStorage.getItem("Map")??"#008000";m[0].value=t?.red??240,m[1].value=t?.green??0,m[2].value=t?.blue??0,f[0].value=s?.red??255,f[1].value=s?.green??255,f[2].value=s?.blue??0,this.worldInstance.snake.SetColor({body:`rgb(${m[0].value},${m[1].value},${m[2].value})`,head:`rgb(${f[0].value},${f[1].value},${f[2].value})`}),v.value=localStorage.getItem("Speed")??"200",this.worldInstance.ResetInterval(L-+v.value),y.forEach((e=>e.checked=n.includes(e.value))),this.currentHUD=localStorage.getItem("HUD")??"default",I.forEach((e=>e.checked=e.value===this.currentHUD)),Y("default",this.currentHUD);const i=JSON.parse(localStorage.getItem("SoundSwitchers"));i&&g.forEach((e=>{e.checked=i[e.id],e.checked?e.classList.add("on"):e.classList.remove("on"),E(e)}))}))}const B=(e,t=!1)=>{let s=e;if(t){let t=+e;if(!(t>=1&&t<=9&&t<=l.length))return;s=c[--t]}const n=s.parentNode.nextElementSibling.classList;n.contains("active")?(n.remove("active"),s.innerText="+"):(l.forEach((e=>e.classList.remove("active"))),c.forEach((e=>e.innerText="+")),n.toggle("active"),s.innerText="+"===s.innerText?"-":"+")};function P(){c.forEach((e=>{e.addEventListener("click",(e=>{B(e.target,!1)}))}))}const N={keyh:"sound_full",keyj:"event",keyk:"pickup",keyl:"gameover"},T={left:["keya","arrowleft"],right:["keyd","arrowright"],up:["keyw","arrowup"],down:["keys","arrowdown"],space:"space",enter:"enter"},M=(e,t=!1)=>{let s=e;if(t&&(s=g.filter((t=>t.id===N[e]))[0],s.checked=!s.checked),!S.checked&&"full"!==s.value)return;s.classList.toggle("on");let n={};g.forEach((e=>{n[e.id]=e.checked,E(e)})),localStorage.setItem("SoundSwitchers",JSON.stringify(n))};function O(){document.addEventListener("keydown",(e=>{let t=e.code.toLowerCase();const s=t.match(/key[w,a,s,d]/)??t.match(/arrow(up|down|left|right)/)??t.match(/space|enter/),n=t.match(/key[h,j,k,l]/),i=t.match(/\$*[1-9]/);(s??n??i)&&function(e,t,s,n,i){n.preventDefault(),e?i.SwitchDirection(e[0]):t?M(t[0],!0):s&&B(s[0],!0)}(s,n,i,e,this.worldInstance)}))}const A={},G=[{color:"red"},{color:"orange"},{color:"blue"},{color:"purple"},{color:"pink"},{color:"lime"}],H=[{posX:60,posY:0},{posX:30,posY:0},{posX:0,posY:0}],q=JSON.stringify(H),U={dx:30,dy:0};function R(){[...m,...f].forEach((e=>{e.addEventListener("input",(()=>{A.body=`rgb(${m[0].value},${m[1].value},${m[2].value})`,A.head=`rgb(${f[0].value},${f[1].value},${f[2].value})`,this.worldInstance.snake.SetColor(A)})),e.addEventListener("change",(()=>{const e={head:{red:f[0].value,green:f[1].value,blue:f[2].value},body:{red:m[0].value,green:m[1].value,blue:m[2].value}};localStorage.setItem("headTumbsColors",JSON.stringify(e.head)),localStorage.setItem("TumbsColors",JSON.stringify(e.body))}))}))}function _(){v.addEventListener("change",(()=>{this.worldInstance.ResetInterval(L-+v.value),localStorage.setItem("Speed",v.value)}))}function J(){y.forEach((t=>{t.addEventListener("change",(()=>{const s=t.value,n=e.style.background=s.includes("#")?s:`url("./resources/img/maps/${s}")`;localStorage.setItem("Map",n)}))}))}function W(){g.forEach((e=>{e.addEventListener("change",(()=>M(e,!1)))}))}function K(e,t){return Math.abs(e)===Math.abs(t)}function Q(e,t){return Math.floor(Math.random()*(e/t))*t}function j(e){return Math.floor(Math.random()*e)}function F(e,t){return Math.abs(e)>Math.abs(t)}class z{static getRandomInt=j;static getCoordinates=Q;static IsABSEquals=K;static IsABSGreater=F}function V(){let t={},s=Date.now();e.addEventListener("touchstart",(e=>{e.preventDefault(),t.X=e.touches[0].clientX,t.Y=e.touches[0].clientY,Date.now()-s<200&&this.worldInstance.SetPause(),s=Date.now()})),e.addEventListener("touchend",(e=>{e.preventDefault();const s=e.changedTouches[0].clientX-t.X,n=e.changedTouches[0].clientY-t.Y;z.IsABSGreater(s,n)?this.worldInstance.SwitchDirection(s>0?"keyd":"keya"):this.worldInstance.SwitchDirection(n>0?"keys":"keyw")}))}function Z(){t.addEventListener("click",(()=>{this.worldInstance.isGamePaused=!this.worldInstance.isGamePaused,this.worldInstance.SetPlay()})),s.addEventListener("click",(()=>{this.worldInstance.dx=30,this.worldInstance.dy=0,this.worldInstance.snake.SetDirection(this.worldInstance.dx,this.worldInstance.dy),this.worldInstance.snake.isDead=!1,i.remove("active"),this.worldInstance.InitWorld()}))}function ee(){I.forEach((e=>{e.addEventListener("change",(()=>{Y(this.currentHUD,e.value),this.currentHUD=e.value,localStorage.setItem("HUD",this.currentHUD)}))}))}function te(){H.map((e=>this.context.clearRect(e.posX,e.posY,C,C))),H.splice(0),H.push(...JSON.parse(q))}function se(){H.forEach(((e,t)=>{if(this.context.clearRect(e.posX,e.posY,C,C),0===t)this.context.fillStyle=A.head,this.prevX=e.posX,this.prevY=e.posY,e.posX+=this.dx,e.posY+=this.dy,e.posX>b-C&&(e.posX=0),e.posX<0&&(e.posX=b-C),e.posY>D-C&&(e.posY=0),e.posY<0&&(e.posY=D-C);else{this.context.fillStyle=A.body;let t=e.posX,s=e.posY;e.posX=this.prevX,e.posY=this.prevY,this.prevX=t,this.prevY=s}this.context.fillRect(e.posX,e.posY,C,C)})),-1!==H.slice(1).findIndex((e=>e.posX===H[0].posX&&e.posY===H[0].posY))&&(this.isDead=!0)}function ne(){H.push({posX:H[H.length-1].posX,posY:H[H.length-1].posY})}function ie(e=null){A.body=e?.body??`\n    rgb(${m[0].value},\n        ${m[1].value},\n        ${m[2].value})\n   `,A.head=e?.head??`\n    rgb(${f[0].value},\n        ${f[1].value},\n        ${f[2].value})\n   `}function oe(e,t){z.IsABSEquals(this.dx,e)&&z.IsABSEquals(this.dy,t)&&!this.isDead||(this.dx=e,this.dy=t)}class ae{constructor(){this.context=e.getContext("2d"),this.dx=U.dx,this.dy=U.dy,this.isDead=!0,this.DrawSnake=se,this.SetDirection=oe,this.IncreaseLength=ne,this.SetColor=ie,this.Destroy=te}}function re(e){return e[0].posX===this.posX&&e[0].posY===this.posY&&(this.DrawApple(e),!0)}function ce(){this.context.clearRect(this.posX,this.posY,C,C)}function le(e){this.posX=z.getCoordinates(b,C),this.posY=z.getCoordinates(D,C),e&&-1!==e.findIndex((e=>e.posX===this.posX&&e.posY===this.posY))&&this.DrawApple(e),this.context.fillStyle=G[z.getRandomInt(G.length)].color,function(e,t,s,n){e.beginPath(),e.arc(t+n/2,s+n/2,n/2-2,0,2*Math.PI),e.fill(),e.stroke(),e.closePath()}(this.context,this.posX,this.posY,C)}class he{posX=0;posY=0;constructor(){this.context=e.getContext("2d"),this.DrawApple=le,this.CheckAppleCollision=re,this.Destroy=ce}}function de(e){this.interval=setInterval((()=>{this.snake.DrawSnake(),this.apple.CheckAppleCollision(H)&&(this.snake.IncreaseLength(),this.IncreaseScore(),this.PlaySound(x)),this.snake.isDead&&this.GameOver()}),e)}function ue(e){this.frequency=e,this.interval&&(clearInterval(this.interval),this.SetInterval(this.frequency))}function pe(){this.apple.DrawApple(),this.SetInterval(this.frequency)}function me(){this.isGamePaused=!0,clearInterval(this.interval),n.add("active"),this.GenerateQuote()}function fe(){this.isGamePaused=!1,n.remove("active"),this.SetInterval(this.frequency)}function ve(){return ge.quotes[z.getRandomInt(ge.quotes.length)].text}class ge{static quotesGenerator=ve;static quotes=[{text:"Главное не то, что было будет, а то, что будет было"},{text:"Сначала потом, затем снова опять"},{text:"Глупо рассказывать людям о 狼迹等待着, всё равно не поймут"},{text:"Если тебя съели - у тебя есть два выхода"},{text:"Настоящий отец - мать сын троюродный дед"},{text:"В этой жизни ты либо волк, либо не волк"},{text:"Враги не предают, предают враги"},{text:"Я редко когда думаю, а ещё реже думаю"},{text:"Ауф"},{text:"Папей чаю"},{text:"Легко вставать, когда ты не ложился"},{text:"Иногда жизнь — это жизнь, а ты в ней иногда."},{text:"Если в дверь не постучаться, ее никогда не откроют."},{text:"Тебя зовут по имени, но я зову тебя пить пиво."},{text:"Если тебе тяжело идти, значит ты жирный."},{text:"Сделал дело — дело сделано."},{text:"Работа не волк."},{text:"У батареек есть один минус, и один плюс…"},{text:"Легкой бывает только легкая дорога. Тяжелая дорога всегда трудна."},{text:"Не нужно менять себя ради кого-то, нужно менять носки каждый день, а то они воняют."},{text:"Никогда не поздно, никогда не рано — поменять все поздно, если это рано."},{text:"Я не боюсь ударов в спину, гораздо страшнее, если это моя спина…."},{text:"За двумя зайцами погонишься — рыбку из пруда не выловишь, делу время, а отмеришь семь раз…"}]}function ye(){u.forEach((e=>e.innerHTML=ge.quotesGenerator()+"<br /> &copy; Волк."))}function Ie(){this.score++,o.innerText=`Счёт: ${this.score}`}function Se(){let e=+localStorage.getItem("prev");this.score>e&&(localStorage.setItem("prev",this.score.toString()),e=this.score,r.innerText=`Лучший счёт: ${e}`),a.innerHTML=`Игра окончена! \n    Ваш счёт: ${this.score}.<br/> \n    Лучший счёт: ${e} <br/>\n    Нажмите на экран или &#171;Ввод&#187;, чтобы начать сначала.`,this.score=0,o.innerText=`Счёт: ${this.score}`}function we(e){if(!g[0].checked)return;const t=e.src.match(/[^\/]+$/)[0];g.filter((e=>e.value===t))[0].checked&&e.play()}function xe(){clearInterval(this.interval),this.PlaySound(k),this.DecreaseScore(),this.snake.Destroy(),this.apple.Destroy(),i.add("active")}function ke(e){if(!(new Date-this.timeStart<this.frequency-100)){if(-1!==T.left.indexOf(e))U.dx=-30,U.dy=0;else if(-1!==T.right.indexOf(e))U.dx=30,U.dy=0;else if(-1!==T.up.indexOf(e))U.dx=0,U.dy=-30;else if(-1!==T.down.indexOf(e))U.dx=0,U.dy=30;else if(T.space===e){if(this.snake.isDead)return;this.isGamePaused?this.SetPlay():this.SetPause()}else if(T.enter===e){if(!this.snake.isDead)return;return U.dx=30,U.dy=0,this.snake.SetDirection(U.dx,U.dy),this.snake.isDead=!1,i.remove("active"),void this.InitWorld()}this.PlaySound(w),this.snake.SetDirection(U.dx,U.dy),this.timeStart=new Date}}const Ee=new class{timeStart=0;isGamePaused=!1;score=0;constructor(){this.SetInterval=de,this.ResetInterval=ue,this.InitWorld=pe,this.SetPause=me,this.SetPlay=fe,this.GenerateQuote=ye,this.IncreaseScore=Ie,this.DecreaseScore=Se,this.PlaySound=we,this.GameOver=xe,this.SwitchDirection=ke,this.apple=new he,this.snake=new ae,this.GenerateQuote()}};new class{constructor(e){this.currentHUD="default",this.worldInstance=e,this.InitEventListeners=p,this.InitOnLoad=$,this.InitColorChanger=R,this.InitSpeedChanger=_,this.InitMapChanger=J,this.InitHUDChanger=ee,this.InitSoundSwitcher=W,this.InitFormsWrapper=P,this.InitKeyboardListener=O,this.InitTouchListener=V,this.InitDeathScreen=Z,this.InitEventListeners()}}(Ee)})();</script></body></html>